# AI æ•™æãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒª - README

## æ¦‚è¦

æœ¬ã‚¢ãƒ—ãƒªã¯ã€æ•™å¸«ãŒæˆæ¥­ä¸­ã‚„äº‹å‰æº–å‚™æ™‚ã«æ´»ç”¨ã§ãã‚‹ã€æ•™è‚²ç‰¹åŒ–å‹ã® AI ãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒªã§ã™ã€‚ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’ MVP ã¨ã—ã¦å®Ÿè£…æ¸ˆã¿ã§ã™ï¼š

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã®ãƒãƒ£ãƒƒãƒˆå±¥æ­´ç®¡ç†ï¼ˆä¾‹ï¼šç”Ÿå¾’åˆ¥è¬›ç¾©åˆ¥ï¼‰
- Supabase ã‚’ç”¨ã„ãŸãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
- FastAPI ã«ã‚ˆã‚‹ OpenAI GPT-4o ã¨ã®é€£æºï¼ˆDocker å¯¾å¿œï¼‰
- Flutter ã«ã‚ˆã‚‹ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  UI æ§‹ç¯‰ï¼ˆWeb / ãƒ¢ãƒã‚¤ãƒ«ï¼‰
- Markdown å½¢å¼ã® AI å‡ºåŠ›ã€PDF ç”Ÿæˆã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯¾å¿œ

ä»Šå¾Œä»¥ä¸‹ã®ã‚ˆã†ãªæ©Ÿèƒ½ã®æ‹¡å¼µã‚’ã€æƒ³å®šï¼š

- WordCloud UI ãƒ™ãƒ¼ã‚¹ã®å…¥åŠ›ä½“é¨“ã¨ã‚¿ã‚°è‡ªå‹•ç”Ÿæˆ
- AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹å¯¾è©±ã®æœ€é©åŒ–ï¼ˆLangGraphã€RAG æ§‹æˆï¼‰
- è¬›å¸«ã«ã‚ˆã‚‹ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®è“„ç©ãƒ»åˆ†æ
- ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å…±æœ‰æ©Ÿèƒ½ã€å€‹åˆ¥å­¦ç¿’æœ€é©åŒ–

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆFlutterï¼‰

- flutter_chat_ui + flutter_chat_types ã«ã‚ˆã‚‹ãƒãƒ£ãƒƒãƒˆ UI
- Supabase Flutter SDK ã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  DB æ¥ç¶š
- String.fromEnvironment ã«ã‚ˆã‚‹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ç’°å¢ƒå¤‰æ•°ç®¡ç†

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆFastAPIï¼‰

- OpenAI GPT-4o API é€£æºï¼ˆopenai ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰
- CORS å¯¾å¿œï¼ˆFlutter ã¨é€£æºå¯èƒ½ï¼‰
- Docker ã«ã‚ˆã‚‹ç’°å¢ƒç®¡ç†ã‚’ã™ã‚‹

### DBï¼ˆSupabaseï¼‰

- projects / chats / messages / tags ã® 4 ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆ
- ç”Ÿå¾’åˆ¥ã‚„æˆæ¥­åˆ¥ã«ãƒãƒ£ãƒƒãƒˆã‚„ã‚¿ã‚°ã‚’ä¿å­˜
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç¨®åˆ¥ï¼ˆuser / aiï¼‰ã«ã‚ˆã‚‹åˆ†é¡

## ç’°å¢ƒæ§‹ç¯‰æ–¹æ³•

### 1. Supabase ã®æº–å‚™

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- `.env` ã«ä»¥ä¸‹ã‚’è¨˜è¿°ï¼š

  ```env
  SUPABASE_URL=xxxxx
  SUPABASE_ANON_KEY=xxxxx
  ```

- SQL ã‚¨ãƒ‡ã‚£ã‚¿ã«ã¦ä»¥ä¸‹ã‚’å®Ÿè¡Œï¼š

  ```sql
  -- çœç•¥ï¼ˆ4ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆæ¸ˆã¿ï¼‰
  ```

### 2. FastAPIï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰

- `ai_edu_api/` é…ä¸‹ã§ `.env` ã« OpenAI API ã‚­ãƒ¼ã‚’è¿½åŠ 

  ```env
  OPENAI_API_KEY=sk-xxxxx
  ```

- Docker ã§èµ·å‹•ï¼š

  ```bash
  docker compose up --build
  ```

- ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼š`POST http://localhost:8000/chat`

### 3. Flutterï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰

- ç’°å¢ƒå¤‰æ•°ã‚’ãƒ“ãƒ«ãƒ‰æ™‚ã«æŒ‡å®šã—ã¦èµ·å‹•ï¼š

  ```bash
  # é–‹ç™ºç’°å¢ƒ
  flutter run -d chrome --dart-define=SUPABASE_URL=xxxxx --dart-define=SUPABASE_ANON_KEY=xxxxx

  # ã¾ãŸã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ç’°å¢ƒå¤‰æ•°ã‚’èª­ã¿è¾¼ã‚€å ´åˆ
  flutter run -d chrome --dart-define-from-file=env.json
  ```

- env.json ã®ä¾‹ï¼š

  ```json
  {
    "SUPABASE_URL": "https://your-supabase-project.supabase.co",
    "SUPABASE_ANON_KEY": "your-supabase-anon-key"
  }
  ```

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆï¼ˆFlutterï¼‰

lib/
â”œâ”€â”€ main.dart
â”œâ”€â”€ models/
â”‚ â”œâ”€â”€ project.dart
â”‚ â”œâ”€â”€ chat.dart
â”‚ â””â”€â”€ message.dart
â”œâ”€â”€ services/
â”‚ â”œâ”€â”€ project_service.dart
â”‚ â”œâ”€â”€ chat_service.dart
â”‚ â””â”€â”€ message_service.dart
â”œâ”€â”€ screens/
â”‚ â”œâ”€â”€ project_list_screen.dart
â”‚ â”œâ”€â”€ project_detail_screen.dart
â”‚ â”œâ”€â”€ chat_list_screen.dart
â”‚ â””â”€â”€ chat_detail_screen.dart
â””â”€â”€ widgets/
â””â”€â”€ ...ï¼ˆä»Šå¾Œï¼‰

## ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

- iOS ãƒã‚¤ãƒ†ã‚£ãƒ–é¢¨ï¼š

  - ç™½èƒŒæ™¯ï¼‹ã‚·ãƒ³ãƒ—ãƒ«ãªãƒãƒ†ãƒªã‚¢ãƒ« UI
  - ãƒœãƒƒã‚¯ã‚¹ã‚„ãƒªã‚¹ãƒˆã¯è§’ä¸¸ + é™°å½±
  - å¹ãå‡ºã—ã‚¹ã‚¿ã‚¤ãƒ«ã§ãƒãƒ£ãƒƒãƒˆè¡¨ç¤ºï¼ˆLINE é¢¨ï¼‰

- ãƒ¯ãƒ¼ãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰ï¼ˆå°†æ¥ï¼‰ï¼š

  - ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ãŒã‚«ãƒ¼ãƒ‰ã‚„ã‚¿ã‚°ã¨ã—ã¦ãµã‚ã£ã¨ç”»é¢ã«æµ®ã‹ã¶
  - é–¢ä¿‚ç·šï¼ˆMapify é¢¨ï¼‰ã‚’æç”»ã—ã€ç·¨é›†å¯èƒ½

  ğŸ–Œï¸ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ï¼ˆUX / UI æ¦‚å¿µï¼‰
  ğŸŒ ã‚³ãƒ³ã‚»ãƒ—ãƒˆ
  LINE é¢¨ UIï¼š å¹ãå‡ºã—å‹ãƒãƒ£ãƒƒãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ç”Ÿå¾’ãƒ»è¬›å¸«ã®å¿ƒç†çš„ãªè¦ªã—ã¿ã‚„ã™ã•ã‚’é‡è¦–ã€‚

ChatGPT çš„å¯¾è©±æ§‹é€ ï¼š ãƒ­ã‚°ãŒè“„ç©ã•ã‚Œã€AI ã«ã‚ˆã‚‹å†åˆ©ç”¨ãƒ»å‚ç…§ãŒå¯èƒ½ã€‚

Notion / Mapify ãƒ©ã‚¤ã‚¯ãªæ§‹é€ åŒ–ï¼š ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ»æ‚©ã¿ãƒ»è¦æœ›ãªã©ã‚’è¦–è¦šçš„ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã€ç·¨é›†å¯èƒ½ãªãƒ¯ãƒ¼ãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰å½¢å¼ã§ä¿å­˜ã€‚

PDF æ•™æ â‡„ ãƒãƒ£ãƒƒãƒˆ â‡„ ãƒ¡ãƒ¢ â‡„ æ§‹é€ åŒ–ã‚’å¾ªç’°ã•ã›ã‚‹ãƒãƒ–å‹ UIã€‚

ğŸ—‚ï¸ ç”»é¢ã”ã¨ã®æ§‹æˆ
ç”»é¢åæ¦‚è¦
project_list_screen ç”Ÿå¾’/æˆæ¥­å˜ä½ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§è¡¨ç¤ºï¼ˆä¾‹ï¼šä¸­ 2ãƒ»è‹±èªï¼‰
chat_list_screen ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã®ãƒãƒ£ãƒƒãƒˆå±¥æ­´ä¸€è¦§ã€‚è¬›ç¾©å›ã‚„ãƒˆãƒ”ãƒƒã‚¯å˜ä½ã§è¡¨ç¤º
chat_detail_screenLINE é¢¨ãƒãƒ£ãƒƒãƒˆç”»é¢ã€‚AI ã¨ã®å¯¾è©±å†…å®¹ã‚’è¨˜éŒ²ã€‚è³ªå•ãƒ»æŒ‡å°ãƒ»è¦æœ›ãŒ AI ã«æ¸¡ã‚‹
wordcloud_screen ğŸš§ ç”Ÿå¾’ã®ç‰¹å¾´ãƒ»æ‚©ã¿ãƒ»èª²é¡Œã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ã‚¯ãƒ©ã‚¦ãƒ‰è¡¨ç¤ºã€‚AIãƒ»è¬›å¸«ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¿½åŠ ãƒ»ç·¨é›†å¯èƒ½
pdf_generation_screen ğŸš§ ãƒ¯ãƒ¼ãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰ã‚„ãƒãƒ£ãƒƒãƒˆãƒ­ã‚°ã€æ•™å¸«è¦æœ›ã‚’å…ƒã« AI ãŒæ•™æ PDF ã‚’ç”Ÿæˆ

ğŸ§  ç‰¹å¾´çš„ãª UI ä»•æ§˜
âœ… ãƒãƒ£ãƒƒãƒˆå¹ãå‡ºã— UIï¼ˆChatGPT+LINE èåˆï¼‰
AI å·¦ / ãƒ¦ãƒ¼ã‚¶ãƒ¼å³ã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒãƒ–ãƒ«ã€‚

ã€Œå†ç”Ÿæˆã€ã€Œè¦æœ›è¿½åŠ ã€ãªã© ChatGPT é¢¨ã®é¸æŠè‚¢ãƒœã‚¿ãƒ³ä»˜ããƒãƒ–ãƒ«ã‚‚å°å…¥äºˆå®šã€‚

âœ… ãƒ¯ãƒ¼ãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰ UIï¼ˆMapify ãƒ©ã‚¤ã‚¯ï¼‰
å˜èª/çŸ­æ–‡ã‚’ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã§è¿½åŠ  â†’ ç”»é¢ã«ãƒ©ãƒ³ãƒ€ãƒ é…ç½®ã•ã‚Œã‚‹ã€‚

ã‚¿ã‚°ã®å½¢çŠ¶ã‚„è‰²ã§æ„å‘³ã‚’åŒºåˆ¥ï¼ˆä¾‹ï¼šæ‚©ã¿=å››è§’ã€ä¸å®‰=ä¸‰è§’ï¼‰ã€‚

é–¢é€£ã™ã‚‹ã‚‚ã®ã¯ AI ã¾ãŸã¯è¬›å¸«ãŒã€Œç·šã€ã§çµã³ã¤ã‘ã‚‰ã‚Œã‚‹ï¼ˆæ‰‹å‹•ï¼‹è‡ªå‹•å¯¾å¿œï¼‰ã€‚

ä¾‹ï¼š[è‹±èªè‹¦æ‰‹] â†â†’ [é•·æ–‡èª­è§£ãŒã§ããªã„] ã®ã‚ˆã†ãªç´ä»˜ã‘ãŒå¯èƒ½ã€‚

âœ… AI é€£æºè¨­è¨ˆ
å…¥åŠ›ã•ã‚ŒãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ»æ‚©ã¿ãƒ»è³ªå• â†’ AI ãŒæ–‡è„ˆã‚’ç†è§£ã—ã¦æ•™æ/å›ç­”ã‚’ç”Ÿæˆã€‚

æ•™æã¯ PDF ã§å‡ºåŠ›å¯èƒ½ã€å°†æ¥çš„ã«ã¯ "ä¿®æ­£è¦æœ›" ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ä»˜ãã€‚

ğŸ¤ ã‚°ãƒ«ãƒ¼ãƒ—æ©Ÿèƒ½ï¼ˆä»Šå¾Œã®æ‹¡å¼µï¼‰
æ©Ÿèƒ½æ¦‚è¦
è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼å¯¾å¿œè¬›å¸«ï¼‹ç”Ÿå¾’ã«ã‚ˆã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‚åŠ ã€æ¨©é™ã®åˆ‡ã‚Šæ›¿ãˆï¼ˆä¾‹ï¼šé–²è¦§å°‚ç”¨ãªã©ï¼‰
ã‚°ãƒ«ãƒ¼ãƒ—ãƒãƒ£ãƒƒãƒˆ UI ã‚¹ãƒ¬ãƒƒãƒ‰å½¢å¼ã¾ãŸã¯ã‚¿ã‚°ä»˜ã‘ã•ã‚ŒãŸãƒãƒ£ãƒƒãƒˆã«ã‚ˆã‚‹æ•´ç†
ç”Ÿå¾’ã”ã¨ã®è¨˜æ†¶ï¼ˆMemoryï¼‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹æ™‚ã«ãƒ¯ãƒ¼ãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰ã§å…¥åŠ›ã•ã‚ŒãŸãƒ¡ãƒ¢ãƒªã‚’ä¿æŒï¼†å‚ç…§
è¦æœ›é€£æºã€Œã“ã®ã‚ˆã†ãªæ•™æãŒã»ã—ã„ã€ã€Œã“ã®å•é¡ŒãŒã‚ã‹ã‚‰ãªã‹ã£ãŸã€â†’ AI ã«åæ˜ 

ğŸ¨ ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã¨ UI ãƒˆãƒ¼ãƒ³ï¼ˆæš«å®šï¼‰
èƒŒæ™¯ï¼š #f9f9f9ï¼ˆNotion ç³»ãƒ©ã‚¤ãƒˆã‚°ãƒ¬ãƒ¼ï¼‰

ãƒãƒ–ãƒ«ï¼š AIâ†’ è–„é’ / ãƒ¦ãƒ¼ã‚¶ãƒ¼ â†’ ã‚°ãƒªãƒ¼ãƒ³

ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ï¼š #6C63FFï¼ˆãƒ¯ãƒ¼ãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰ç·šãªã©ã«ä½¿ç”¨ï¼‰

ğŸ“± ãƒ¢ãƒã‚¤ãƒ«æœ€é©åŒ–
å„ UI ã¯ã‚¹ãƒãƒ›ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§è¨­è¨ˆã€‚

ãƒãƒ£ãƒƒãƒˆãƒ»ã‚¯ãƒ©ã‚¦ãƒ‰ã¨ã‚‚ã« 1 ç”»é¢è¡¨ç¤ºã«åã¾ã‚‹ã‚ˆã†ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œæ¸ˆã¿ã€‚

ãƒ¯ãƒ¼ãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰æ©Ÿèƒ½ï¼ˆæ§‹é€ åŒ– AI å…¥åŠ› UIï¼‰
âœ… æ¦‚è¦
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‚©ã¿ãƒ»ç‰¹å¾´ãƒ»ãƒ‹ãƒ¼ã‚ºã‚’å¯è¦–åŒ–ã™ã‚‹ã€æ§‹é€ çš„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€‚

å¾“æ¥ã®ãƒãƒ£ãƒƒãƒˆã§ã¯æ‹¾ã„ã¥ã‚‰ã„â€œæ›–æ˜§ãªä¸å®‰ã‚„ç›´æ„Ÿâ€ã‚’å…¥åŠ›ãƒ»è¦–è¦šåŒ–ã™ã‚‹ç›®çš„ã€‚

ğŸ¯ ä¸»ãªç›®çš„
æ©Ÿèƒ½èª¬æ˜
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ€è€ƒã®å¯è¦–åŒ–ã€Œè‹±èªãŒè‹¦æ‰‹ã€ã€Œæ–‡ãŒé•·ã„ã¨èª­ã‚ãªã„ã€ãªã©ã®æŠ½è±¡çš„ãªè¨€è‘‰ã‚’ä¸¦ã¹ã‚‹
æƒ…å ±ã®å†åˆ©ç”¨å…¥åŠ›ã•ã‚ŒãŸã‚¯ãƒ©ã‚¦ãƒ‰æƒ…å ±ã¯ AI ãŒå‚ç…§ã—ã€æ•™æç”Ÿæˆãƒ»å†ææ¡ˆãƒ»è³ªå•ã«æ´»ç”¨
è¬›å¸«ã¨ã®å…±æœ‰ãƒ¯ãƒ¼ãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰ã¯è¬›å¸«ã‚‚ç¢ºèªå¯èƒ½ã€‚ã€Œã“ã“ãŒè‹¦æ‰‹ãªã‚“ã ã€ã¨æ°—ã¥ãã‚’å¾—ã‚‰ã‚Œã‚‹

ğŸ§© å…¥åŠ›ãƒ»ç·¨é›†ã®æµã‚Œï¼ˆUI ä»•æ§˜ï¼‰ 1.ã‚¯ãƒ©ã‚¦ãƒ‰å…¥åŠ›ãƒ¢ãƒ¼ãƒ‰
ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã§çŸ­æ–‡ã‚’ 1 ã¤ãšã¤è¿½åŠ ï¼ˆã€Œæš—è¨˜ãŒè‹¦æ‰‹ã€ã€Œä¸­ 2ã€ã€Œè‹±å˜èªå«Œã„ã€ãªã©ï¼‰ã€‚

é€ä¿¡ã™ã‚‹ã¨ã€ç”»é¢å†…ã«ãƒ©ãƒ³ãƒ€ãƒ ã«é…ç½®ã•ã‚Œã‚‹ãƒãƒƒã‚¸ãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚

ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯ãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½ãƒ»ç·¨é›†å¯ã€‚

2.ã‚¿ã‚°åˆ†é¡
è‰²ã‚„å½¢ã§ç¨®é¡ã‚’åŒºåˆ¥ï¼ˆâ€»ä»¥ä¸‹ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ¡ˆï¼‰ï¼š

ç¨®é¡å½¢çŠ¶èª¬æ˜
ä¸å®‰ä¸‰è§’ã€Œãƒ†ã‚¹ãƒˆãŒæ€–ã„ã€ã€Œç‚¹æ•°ä½ã„ã€ãªã©
ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å››è§’ã€Œè‹±èªã€ã€Œä¸­ 2ã€ã€Œå˜èªåŠ›ã€
ç‰¹æ€§ä¸¸ã€Œé£½ãã£ã½ã„ã€ã€Œé™ã‹ã€ã€ŒçœŸé¢ç›®ã€

3.é–¢ä¿‚ç·šã®æ§‹ç¯‰
æ‰‹å‹•ã§ã‚¿ã‚°åŒå£«ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ç·šã‚’ã¤ãªãã€‚

AI ãŒæ„å‘³çš„ãªé–¢é€£æ€§ã‚’è‡ªå‹•ã§æç¤ºã™ã‚‹å€™è£œç·šã‚‚è¡¨ç¤ºï¼ˆä¾‹ï¼šã€Œé•·æ–‡èª­è§£ãŒè‹¦æ‰‹ã€â‡„ã€Œèªå½™åŠ›ãŒãªã„ã€ï¼‰ã€‚

ğŸ¤– ãƒ¯ãƒ¼ãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰ â†’ æ•™æç”Ÿæˆã®æµã‚Œ
mermaid
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
graph LR
A[ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¯ãƒ¼ãƒ‰ã‚’è¿½åŠ ] --> B[ã‚¯ãƒ©ã‚¦ãƒ‰ã«è¡¨ç¤º]
B --> C[AI ãŒé–¢é€£æ€§ã‚’åˆ†æ]
C --> D[æ•™ææ§‹æˆã‚’ææ¡ˆ]
D --> E[ãƒãƒ£ãƒƒãƒˆã§ç¢ºèªãƒ»ä¿®æ­£]
E --> F[PDF ã§æ•™æå‡ºåŠ›]
ğŸ§  é€šå¸¸ã®ãƒãƒ£ãƒƒãƒˆã¨ã®é•ã„
ç‰¹å¾´é€šå¸¸ãƒãƒ£ãƒƒãƒˆãƒ¯ãƒ¼ãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰
å…¥åŠ›å½¢å¼è³ªå•å½¢å¼ï¼ˆ1 å¯¾ 1ï¼‰å˜èªãƒ»çŸ­æ–‡ã®è“„ç©ï¼ˆå¤šå¯¾ 1ï¼‰
è¡¨ç¤ºæ–¹æ³•å¹ãå‡ºã—å‹ã® LINE é¢¨ UI ãƒãƒƒãƒ—å‹ã®ãƒãƒ¼ãƒ‰ãƒ»ãƒãƒ–ãƒ«è¡¨ç¤º
é–¢ä¿‚æ€§ã®è¡¨ç¾ç™ºè¨€ã®é †åºç·šã‚„è‰²ã§æ¦‚å¿µã‚’æ¥ç¶š
AI ã®ç”Ÿæˆå¯¾è±¡å›ç­”ãƒ»è£œè¶³è§£èª¬æ•™æï¼ˆPDFï¼‰ã€ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã€å•é¡Œã‚»ãƒƒãƒˆ
å¯¾è±¡è€…ç”Ÿå¾’ or è¬›å¸«å˜ä½“è¤‡æ•°äººï¼ˆã‚°ãƒ«ãƒ¼ãƒ—ã§å…±æœ‰ã™ã‚‹ã‚¯ãƒ©ã‚¦ãƒ‰ï¼‰

ğŸ“„ æœ€çµ‚çš„ãªå‡ºåŠ›ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆAI æ•™æï¼‰
è¦ç´ å†…å®¹ä¾‹
æ•™æã‚¿ãƒˆãƒ«ã€Œè‹±èªé•·æ–‡ãŒè‹¦æ‰‹ãªä¸­ 2 ç”Ÿå‘ã‘ èª­è§£åŠ›ã‚¢ãƒƒãƒ—ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã€
å•é¡Œæ§‹æˆãƒ¯ãƒ¼ãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰ã§å‡ºãŸæ‚©ã¿ã«å¿œã˜ãŸç©´åŸ‹ã‚ãƒ»é¸æŠãƒ»è¨˜è¿°å•é¡Œ
è£œè¶³ãƒãƒ£ãƒƒãƒˆã§è£œè¶³ã•ã‚ŒãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆä¾‹ï¼šã€ŒMARCH ãƒ¬ãƒ™ãƒ«ã®å•é¡ŒãŒè§£ã‘ãªã„ã€ï¼‰
ã‚³ãƒ¡ãƒ³ãƒˆæŒ¿å…¥ è¬›å¸«ã«ã‚ˆã‚‹è£œè¶³ãƒ¡ãƒ¢ã€è§£èª¬ã‚„æ„è¦‹ãŒåæ˜ ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³

## ä»Šå¾Œã® TODO

- [ ] message ä¿å­˜æ©Ÿèƒ½ï¼ˆchat_id ã«ç´ã¥ã‘ï¼‰
- [ ] ã‚¿ã‚°è¿½åŠ ãƒ»è¡¨ç¤ºç”»é¢
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã«ã‚ˆã‚‹ WordCloud ã®è¦–è¦šåŒ–
- [ ] Markdown å‡ºåŠ› + PDF é€£æº
- [ ] æ•™å¸«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®æ§‹é€ åŒ–ä¿å­˜

## é–‹ç™ºè€…å‘ã‘ Tips

- Supabase ã® UUID ã¯ `gen_random_uuid()` ã«ã‚ˆã‚Šè‡ªå‹•ç”Ÿæˆ
- Flutter ã§ null è¨±å®¹ã«æ³¨æ„ï¼ˆrequired ä¿®é£¾å­ï¼‰
- Docker ã® FastAPI èµ·å‹•ã«å¤±æ•—ã—ãŸã‚‰ `--build` ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ¨å¥¨

## å…±åŒé–‹ç™ºã«ã¤ã„ã¦

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ GitHub ã§å…±æœ‰ã•ã‚Œã¦ãŠã‚Šã€ä»Šå¾Œä»¥ä¸‹ã®ã‚ˆã†ãªé–‹ç™ºãƒ«ãƒ¼ãƒ«ã‚’æƒ³å®šï¼š

- `main` ã¯å¸¸ã«å‹•ä½œã™ã‚‹çŠ¶æ…‹ã‚’ä¿æŒ
- å„è‡ª `feature/xxx` ãƒ–ãƒ©ãƒ³ãƒã‚’åˆ‡ã£ã¦ PR ãƒ™ãƒ¼ã‚¹ã§åæ˜ 
- README ã¯æ©Ÿèƒ½è¿½åŠ ã”ã¨ã«æ›´æ–°
- Firebase ã‚„ Vercel ã¸ã® CI/CD å°å…¥ã‚‚è¦–é‡ã«

---

ä½•ã‹è³ªå•ã‚„è¦æœ›ãŒã‚ã‚Œã° `/docs` ãƒ•ã‚©ãƒ«ãƒ€ã«è¿½åŠ äºˆå®šã§ã™ã€‚
ä»Šå¾Œã®æ­£å¼ãƒªãƒªãƒ¼ã‚¹ã«å‘ã‘ã¦ã€MVP ã®æ”¹å–„ã¨ UX ã®æ´—ç·´ã«æ³¨åŠ›ã—ã¦ã„ãã¾ã™ã€‚

---

## Flutter ã§ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è‡ªç„¶ã«ãƒ»é«˜é€Ÿã«ãƒ»å …ç‰¢ã«è¡¨ç¤ºã™ã‚‹æ–¹æ³•

### âœ… ç›®çš„åˆ¥ã¾ã¨ã‚

| é …ç›®                     | è§£æ±ºç­–                                   | è§£èª¬                             |
| ------------------------ | ---------------------------------------- | -------------------------------- |
| 1 æ–‡å­—ãšã¤è¡¨ç¤ºã§æ–‡å­—åŒ–ã‘ | âœ” æ•°æ–‡å­—å˜ä½ã§æç”»                       | ãƒãƒ«ãƒãƒã‚¤ãƒˆå¯¾ç­–ï¼‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ |
| è¡¨ç¤ºã®è‡ªç„¶ã•             | âœ” æ–‡ã‚„å¥èª­ç‚¹ã€æ”¹è¡Œå˜ä½ã§å‡ºã™             | äººé–“ã‚‰ã—ã„ãƒ†ãƒ³ãƒ                 |
| ãƒ•ãƒªãƒ¼ã‚ºãƒ»é‡ã•å¯¾ç­–       | âœ” `Timer` or `Future.delayed`ã§åˆ¶å¾¡      | `setState()`ã®å‘¼ã³ã™ãã‚’å›é¿     |
| ã‚»ã‚­ãƒ¥ã‚¢ãƒ»å …ç‰¢åŒ–         | âœ” null ãƒã‚§ãƒƒã‚¯ãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†          | API ã‚„ UI ã®ç•°å¸¸ã«ã‚‚è€ãˆã‚‹       |
| é€Ÿåº¦æœ€å¤§åŒ–               | âœ” OpenAI ã®`stream`ã§å³æç”»ï¼‹ chunk å‡¦ç† | ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®é«˜é€ŸåŒ–             |

---

### ğŸ§© ã‚¹ãƒ†ãƒƒãƒ— 1ï¼šç”Ÿæˆãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒãƒ£ãƒ³ã‚¯åŒ–ã—ã¦æç”»ï¼ˆFlutterï¼‰

```dart
void animateText(String fullText, Function(String) onUpdate) {
  const chunkSize = 3;
  String current = "";
  Timer.periodic(const Duration(milliseconds: 50), (timer) {
    if (current.length >= fullText.length) {
      timer.cancel();
    } else {
      final nextEnd = (current.length + chunkSize).clamp(0, fullText.length);
      current = fullText.substring(0, nextEnd);
      onUpdate(current);
    }
  });
}
```

---

### ğŸ§© ã‚¹ãƒ†ãƒƒãƒ— 2ï¼šå …ç‰¢åŒ–ï¼ˆä¾‹ï¼šã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ»null è€æ€§ï¼‰

```dart
Timer? _typingTimer;

void startTypingAnimation(String fullText) {
  _typingTimer?.cancel(); // ä»¥å‰ã®ã‚¿ã‚¤ãƒãƒ¼ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«

  int index = 0;
  const chunkSize = 3;
  const delay = Duration(milliseconds: 40);

  _typingTimer = Timer.periodic(delay, (timer) {
    if (index >= fullText.length) {
      timer.cancel();
      return;
    }

    final next = fullText.substring(0, (index + chunkSize).clamp(0, fullText.length));
    setState(() => _chatText = next);
    index += chunkSize;
  });
}

@override
void dispose() {
  _typingTimer?.cancel(); // ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆç ´æ£„æ™‚ã‚‚ç¢ºå®Ÿã«è§£æ”¾
  super.dispose();
}
```

---

### ğŸ§© ã‚¹ãƒ†ãƒƒãƒ— 3ï¼šã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°é«˜é€ŸåŒ–ï¼ˆOpenAI APIï¼‰

```dart
final buffer = StringBuffer();
chatStream.listen((chunk) {
  buffer.write(chunk);
  if (buffer.length > 6 || chunk.contains('\n')) {
    onUpdate(buffer.toString());
  }
});
```

---

### âš¡ æœ€é€ŸåŒ– Tipsï¼ˆUX å‘ä¸Šï¼‰

| æ‰‹æ³•                                 | åŠ¹æœ                       |
| ------------------------------------ | -------------------------- |
| `stream: true`ã§ GPT API å‘¼ã³å‡ºã—    | é–‹å§‹ã‚’é«˜é€ŸåŒ–ï¼ˆéåŒæœŸæç”»ï¼‰ |
| åˆæœŸè¡¨ç¤ºã§ã€Œâ€¢â€¢â€¢ã€ã‚’å‡ºã™              | ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã®å¿ƒç†çš„å›é¿     |
| Flutter ã§ `Future.microtask()` ä½¿ç”¨ | éåŒæœŸã‚¿ã‚¹ã‚¯ã®å³æ™‚åŒ–       |
| å¥ç‚¹ã‚„æ”¹è¡Œå˜ä½ã§ä¸€æ°—ã«æç”»           | é…å»¶æ„Ÿã‚’æŠ‘ãˆã€è‡ªç„¶ã«è¡¨ç¤º   |

---

### ğŸ” è£œè¶³ï¼šã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»å …ç‰¢æ€§ãƒã‚§ãƒƒã‚¯

- null ã‚„ç©ºæ–‡å­—ã® `fullText` ã«å¯¾å¿œï¼ˆ`if (fullText?.isEmpty ?? true)`ï¼‰
- `try-catch` ã§ä¾‹å¤–ã«å¼·ã„ã‚³ãƒ¼ãƒ‰ï¼ˆAPI åˆ‡æ–­ãƒ»Unicode å´©å£Šãªã©ï¼‰
- çµ‚äº†ãƒ»dispose å‡¦ç†ã®å¾¹åº•ï¼ˆ`Timer.cancel()`ï¼‰

---

### âœ… çµ±åˆä¾‹ï¼ˆWidget å†…ï¼‰

```dart
class TypingTextWidget extends StatefulWidget {
  final String text;
  const TypingTextWidget({super.key, required this.text});

  @override
  _TypingTextWidgetState createState() => _TypingTextWidgetState();
}

class _TypingTextWidgetState extends State<TypingTextWidget> {
  String _displayText = '';
  Timer? _timer;

  @override
  void initState() {
    super.initState();
    startAnimation();
  }

  void startAnimation() {
    const chunkSize = 3;
    int index = 0;

    _timer = Timer.periodic(Duration(milliseconds: 40), (timer) {
      if (index >= widget.text.length) {
        timer.cancel();
      } else {
        setState(() {
          _displayText = widget.text.substring(0, (index + chunkSize).clamp(0, widget.text.length));
        });
        index += chunkSize;
      }
    });
  }

  @override
  void dispose() {
    _timer?.cancel();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return Text(_displayText, style: TextStyle(fontSize: 16));
  }
}
```

---

Markdown ã‚„ AI ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¨ã®çµ±åˆä¾‹ã€UI/UX ã®æœ€é©åŒ– Tips ã‚‚éšæ™‚è¿½è¨˜äºˆå®šã§ã™ã€‚
